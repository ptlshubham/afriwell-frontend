<div class="main-content">
    <div class="card" *ngIf="!isFileUploader">
        <div class="card-header">
            <h4 class="card-title">Search</h4>
        </div>
        <div class="card-body">
            <div class="row">
                <label class="col-md-1 col-form-label">Select Main Category</label>
                <div class="col-md-3">
                    <div class="dropdown form-group">
                        <button class="dropdown-toggle btn btn-primary btn-round btn-block" type="button"
                            name="dropdownMenuButton" id="dropdownMenuButton" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">{{selectedCat}}

                        </button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                            <div class="dropdown-header">Select Main Category</div>
                            <div *ngFor="let c of category">
                                <a class="dropdown-item" (click)="cateMain(c.id)">{{c.name}}</a>
                            </div>
                        </div>
                    </div>
                </div>
                <label class="col-md-1 col-form-label">Select Category</label>
                <div class="col-md-3">
                    <div class="dropdown form-group">
                        <button class="dropdown-toggle btn btn-primary btn-round btn-block" type="button"
                            name="dropdownMenuButton" id="dropdownMenuButton" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">{{selectedSubCat}}

                        </button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                            <div class="dropdown-header">Select Category</div>
                            <div *ngFor="let ca of subcategory">
                                <a class="dropdown-item" (click)="cateCategory(ca.id)">{{ca.name}}</a>
                            </div>
                        </div>
                    </div>
                </div>
                <label class="col-md-1 col-form-label">Select Sub Category</label>
                <div class="col-md-3">
                    <div class="dropdown form-group">
                        <button class="dropdown-toggle btn btn-primary btn-round btn-block" type="button"
                            name="dropdownMenuButton" id="dropdownMenuButton" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">{{selectedSubProCat}}

                        </button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                            <div class="dropdown-header">Select sub Category</div>
                            <div *ngFor="let s of subprodcat">
                                <a class="dropdown-item" (click)="subProCategory(s.id)">{{s.name}}</a>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <br>
            <div class="row">
                <label class="col-md-1 col-form-label">Select Product Type
                </label>
                <div class="col-md-3">
                    <div class="dropdown form-group">
                        <button class="dropdown-toggle btn btn-primary btn-round btn-block" type="button"
                            name="dropdownMenuButton" id="dropdownMenuButton" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">{{selectedCategory}}

                        </button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                            <div class="dropdown-header">Select Filter</div>
                            <div *ngFor="let s of productCategory">
                                <a class="dropdown-item" (click)="selectProductCategory(s.name)">{{s.name}}</a>
                            </div>
                        </div>
                    </div>
                </div>
                <label class="col-md-1 col-form-label">Select Date</label>
                <div class="col-md-3">
                    <!-- <p class="card-title">Select Date</p> -->
                    <input class="form-control" placeholder="{{model}}" name="dp" ngbDatepicker #d="ngbDatepicker"
                        (click)="d.toggle()">
                    <!-- <input type="text" class="form-control datepicker" value="10/05/2018"> -->
                </div>
                <!-- <label class="col-md-1 col-form-label">Tracking number</label>
                <div class="col-md-3">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Enter Tracking number">
                    </div>
                </div> -->
            </div>
        </div>
        <div class="card-footer">
            <div class="row">
                <div class="ml-md-auto">
                    <button type="submit" class="btn btn-info btn-round"> <i class="nc-icon nc-zoom-split"
                            title="Search"> Search</i></button>
                </div>
            </div>
        </div>
    </div>
    <div class="card" *ngIf="!isFileUploader">
        <div class="card-header">
            <div class="row">
                <div class="col-md-4">
                    <h4 class="card-title">Inventory Managment</h4>
                </div>
                <!-- <div class="col-md-6" *ngIf="!Chagesproduct.length >0"></div> -->

                <div class="ml-md-auto" *ngIf="Chagesproduct.length >0">
                    <!-- <button type="submit" class="btn btn-info btn-round" (click)="AddToNewArrival()">New
                        Arrivals</button> -->
                    <label for="arrival">New Arrivals</label> <br>
                    <bSwitch [switch-on-color]="'primary'" [switch-off-color]="'primary'"
                        [ngClass]="status ? 'success' : 'danger'" id="AddToNewArrival" name="AddToNewArrival"
                        (click)="AddToNewArrival()" [(ngModel)]="addnewarrival">
                    </bSwitch>
                </div>
                <div class="ml-md-auto" *ngIf="Chagesproduct.length >0">
                    <!-- <button type="submit" class="btn btn-info btn-round" (click)="AddToBestProduct()">Best
                        Product</button> -->
                    <label for="best">Add Best</label>
                    <br>
                    <bSwitch [switch-on-color]="'primary'" [switch-off-color]="'primary'" id="AddToBestProduct"
                        name="AddToBestProduct" (click)="AddToBestProduct()" [(ngModel)]="addbestprdt">
                    </bSwitch>
                </div>
                <div class="ml-md-auto" *ngIf="Chagesproduct.length >0">
                    <!-- <button type="submit" class="btn btn-info btn-round" (click)="AddToHotProduct()">Hot
                        Product</button> -->
                    <label for="hot">Add Hot</label>
                    <br>
                    <bSwitch [switch-on-color]="'primary'" [switch-off-color]="'primary'" id="AddToHotProduct"
                        name="AddToHotProduct" (click)="AddToHotProduct()" [(ngModel)]="addhotprdt">
                    </bSwitch>
                </div>
                <div class="ml-md-auto" *ngIf="Chagesproduct.length >0">
                    <!-- <button type="submit" class="btn btn-info btn-round" (click)="AddToSale()" data-toggle="modal"
                        data-target="#saleModal">Sale on Product</button> -->
                    <label for="sale">Add Sale</label>
                    <br>
                    <bSwitch [switch-on-color]="'primary'" [switch-off-color]="'primary'" id="AddToSale"
                        name="AddToSale" (click)="AddToSale()" [(ngModel)]="addsale">
                    </bSwitch>
                </div>
                <div class="ml-md-auto" *ngIf="Chagesproduct.length >0">
                    <button type="submit" class="btn btn-danger btn-round" (click)="removeProduct()"><i
                            class="fa fa-trash" aria-hidden="true"></i> Delete
                        Product</button>
                </div>
                <div class="ml-md-auto" *ngIf="Chagesproduct.length >0 && Chagesproduct.length <=1">
                    <button type="submit" class="btn btn-warning btn-round" (click)="editproduct()"><i
                            class="fa fa-pencil" aria-hidden="true"></i> edit
                        Product</button>
                </div>
                <div class="ml-md-auto">
                    <button type="submit" class="btn btn-info btn-round" routerLink="/category"><i class="fa fa-plus"
                            aria-hidden="true"></i> Add Product</button>
                </div>
            </div>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-shopping">
                    <thead class="text-primary">
                        <tr>
                            <th class="text-left">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="checkbox" [(ngModel)]="selectedCheck"
                                            (click)="selectAll(selectedCheck)">
                                        <span class="form-check-sign"></span>
                                    </label>
                                </div>
                            </th>
                            <th class="text-center">#</th>
                            <th class="text-center">Product Name</th>
                            <th class="text-center">Product Image</th>
                            <th class="text-center">Product Category</th>
                            <th class="text-center">Size</th>
                            <th class="text-center">Quantity</th>
                            <th class="text-center">Product Price</th>
                            <th class="text-center">Action</th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            *ngFor="let p of product | paginate: { id:'listing',itemsPerPage: 10, currentPage: mpage,totalItems:totalRec };let i=index">
                            <td class="text-left">
                                <div class="form-check">
                                    <label class="form-check-label">
                                        <input class="form-check-input" type="checkbox" [(ngModel)]="p.selectedCheck"
                                            (click)="onChanges(p.selectedCheck,p,i)">
                                        <span class="form-check-sign"></span>
                                    </label>
                                </div>
                            </td>
                            <td class="text-center">{{i+1}}</td>
                            <td class="text-center">{{p.productName}}</td>

                            <td class="text-center">
                                <div class="img-container " *ngIf=" p.productMainImage.length >0">
                                    <img src="http://localhost:8090{{p.productMainImage[0].productListImage}}">
                                </div>
                                <button type="button" rel="tooltip" class="btn btn-info btn-icon btn-md"
                                    *ngIf=" p.productMainImage.length == 0" (click)="addProductImages(p)">
                                    <i class="fa fa-upload" aria-hidden="true" style="font-size: 24px;"></i>
                                </button>

                            </td>
                            <td class="text-center">
                                {{p.name}}
                            </td>

                            <td class="text-center">
                                {{p.size}}
                            </td>
                            <td class="text-center">
                                {{p.quantity}}
                            </td>

                            <td class="text-center">{{p.productPrice}} <i class="fa fa-inr" aria-hidden="true"></i></td>
                            <td class="text-center">
                                <button type="button" rel="tooltip" class="btn btn-success btn-icon btn-sm"
                                    data-toggle="modal" data-target="#noticeModal">
                                    <i class="fa fa-edit" (click)="restokProduct(p,i)"></i>
                                </button>
                                <button type="button" rel="tooltip" class="btn btn-danger btn-icon btn-sm"
                                    (click)="  removeIndIvidualProduct(p,i)">
                                    <i class="fa fa-times"></i>
                                </button>
                                <!-- <button type="button" title="View" data-toggle="modal" data-target="#noticeModal"
                                class="btn btn-info" (click)="restokProduct(p,i)">Restock</button> -->
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card-footer">
            <div class="row">
                <div class="ml-md-auto">
                    <pagination-controls id="listing" maxSize="10" directionLinks="true" (pageChange)="mpage= $event"
                        autoHide="true" responsive="true">
                    </pagination-controls>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="saleModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-notice">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="nc-icon nc-simple-remove"></i>
                    </button>
                    <h5 class="modal-title" id="myModalLabel">Sale On Product</h5>
                </div>
                <div class="modal-body">
                    <div class="instruction">
                        <form class="form-horizontal" name="editProductForm" #editProductForm="ngForm">
                            <div class="row">
                                <label class="col-sm-6 col-form-label">Sale Percentage</label>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="percentage" name="percentage">
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer justify-content-center">
                    <div class="row">
                        <div class="col-sm-6">
                            <button type="button" class="btn btn-info btn-round" data-dismiss="modal">Save
                                Percentage</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="noticeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-notice">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        <i class="nc-icon nc-simple-remove"></i>
                    </button>
                    <h5 class="modal-title" id="myModalLabel">Restock Product</h5>
                </div>
                <div class="modal-body">
                    <div class="instruction">
                        <form class="form-horizontal" name="editProductForm" #editProductForm="ngForm">
                            <div class="row">
                                <div class="col-sm-3">
                                    <label class="col-form-label">#</label>
                                    <div class="form-group">
                                        <input type="text" class="form-control" id="maintag" name="maintag"
                                            [(ngModel)]="restock.maintag" disabled>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <label class="col-form-label">Product Name</label>
                                    <div class="form-group">
                                        <input type="text" class="form-control" [(ngModel)]="restock.productName"
                                            id="productName" name="productName" disabled>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <label class="col-form-label">Manufacturer Name</label>
                                    <div class="form-group">
                                        <input type="text" class="form-control" [(ngModel)]="restock.manufacturerName"
                                            id="manufacturerName" name="manufacturerName" disabled>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <label class="col-form-label">Product Size</label>
                                    <div class="form-group">
                                        <input type="text" class="form-control" [(ngModel)]="restock.size" id="size"
                                            name="size">
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="row">
                                <div class="col-sm-3">
                                    <label class="col-form-label">Quantity</label>
                                    <div class="form-group">
                                        <input type="number" class="form-control" [(ngModel)]="restock.quantity"
                                            id="quantity" name="quantity">
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <label class="col-form-label">Product Price</label>
                                    <div class="form-group">
                                        <input type="number" class="form-control" [(ngModel)]="restock.productPrice"
                                            id="productPrice" name="productPrice">
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <label class="col-form-label">Discount Percentage</label>
                                    <div class="form-group">
                                        <input type="number" class="form-control" [(ngModel)]="restock.productPer"
                                            id="productPer" name="productPer"
                                            (input)="onDiscountChange($event.target.value)">
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <label class="col-form-label">Discount Price</label>
                                    <div class="form-group">
                                        <input type="number" class="form-control" [(ngModel)]="restock.discountPrice"
                                            disabled id="discountPrice" name="discountPrice">
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer justify-content-center">
                    <div class="row">
                        <div class="col-md-12">
                            <button type="button" class="btn btn-info btn-round" data-dismiss="modal"
                                (click)="updateProductStock(restock)">Update
                                Stock</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card" *ngIf="isFileUploader">
        <div class="card-header">

        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-3">
                    <div class="form-group">
                        <p class="card-title">Select Product Detail Image</p>
                        <span style="color: red;">*Image size must be 800X600</span>
                        <div class="fileinput fileinput-new text-center" data-provides="fileinput">
                            <div class="fileinput-new thumbnail">
                                <img src="./assets/manage/assets/img/image_placeholder.jpg" alt="...">
                            </div>
                            <div class="fileinput-preview fileinput-exists thumbnail"></div>
                            <div>
                                <span class="btn btn-rose btn-round btn-file">
                                    <span class="fileinput-new">Select Detail Image</span>
                                    <span class="fileinput-exists">Change</span>
                                    <input type="file" id="productListImage" name="productListImage"
                                        [(ngModel)]="ImagesModel.productListImage" (change)="onSelect($event)" />
                                </span>
                                <a href="javascript:void(0)" (click)="removeOrChangedImage()"
                                    class="btn btn-danger btn-round fileinput-exists" data-dismiss="fileinput"><i
                                        class="fa fa-times"></i> Remove</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 " *ngFor="let i of addingprdtimg;let ind=index">
                    <div class="form-group">
                        <p class="card-title">Select Product Detail Image</p>
                        <span style="color: red;">*Image size must be 800X600</span>
                        <div class="fileinput fileinput-new text-center" data-provides="fileinput">

                            <div class="fileinput-new thumbnail">

                                <img src="./assets/manage/assets/img/image_placeholder.jpg" alt="..." *ngIf="!isEdit">
                                <img src="http://localhost:8090{{i.productListImage}}" alt="..." *ngIf="isEdit">
                            </div>
                            <div class="fileinput-preview fileinput-exists thumbnail"></div>
                            <div>
                                <span class="btn btn-rose btn-round btn-file">
                                    <span class="fileinput-new">Select Image</span>
                                    <span class="fileinput-exists">Change</span>
                                    <input type="file" id="productListImage" name="productListImage"
                                        [(ngModel)]="ImagesModel.productListImage" value={}
                                        (change)="onSelect($event)" />
                                </span>
                                <a class="btn btn-danger btn-round fileinput-exists" data-dismiss="fileinput"
                                    (click)="removeOrChangedImage()"><i class="fa fa-times"></i> Remove</a>
                                <a class="btn btn-danger btn-round btn-link" (click)="removeImageUploader(ind)">
                                    <i class="fa fa-times-circle-o" aria-hidden="true" style="font-size: 25px;"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-1">
                    <i class="fa fa-plus-circle" aria-hidden="true"
                        style="font-size: 50px !important;margin-top:130%!important;" (click)="addImageUploader()"></i>
                </div>
            </div>
        </div>
        <div class="card-footer ">
            <div class="row">
                <div class="ml-md-auto">
                    <button type="submit" class="btn btn-info btn-round" id="product-submit"
                        (click)="saveBulkImages()"><i class="fa fa-paper-plane" aria-hidden="true"></i>
                        Save Images</button>
                </div>
            </div>
        </div>
    </div>
</div>